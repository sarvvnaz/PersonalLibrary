{"ast":null,"code":"import{useMemo,useState}from\"react\";import LandingPage from\"./LandingPage\";import AddBook from\"./components/AddBook\";import BooksNavbar from\"./components/Books\";import SearchBar from\"./components/Search\";import animalFarmCover from\"./assets/anim.jpg\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const defaultBook={id:\"animal-farm\",title:\"Animal Farm\",author:\"George Orwell\",year:1945,coverUrl:animalFarmCover};function App(){const[books,setBooks]=useState([defaultBook]);const[selectedBook,setSelectedBook]=useState(defaultBook);const[query,setQuery]=useState(\"\");const filteredBooks=useMemo(()=>{const q=query.trim().toLowerCase();if(!q)return books;return books.filter(b=>{const title=b.title.toLowerCase();const author=b.author.toLowerCase();return title.includes(q)||author.includes(q);});},[books,query]);function handleDeleteSelectedBook(){if(!selectedBook)return;setBooks(prev=>prev.filter(b=>b.id!==selectedBook.id));setSelectedBook(null);}function handleDeleteBook(bookId){setBooks(prev=>prev.filter(b=>b.id!==bookId));if((selectedBook===null||selectedBook===void 0?void 0:selectedBook.id)===bookId){setSelectedBook(null);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LandingPage,{}),/*#__PURE__*/_jsx(AddBook,{onAdd:book=>{setBooks(prev=>[book,...prev]);setSelectedBook(book);setQuery(\"\");}}),/*#__PURE__*/_jsx(SearchBar,{value:query,onChange:setQuery}),/*#__PURE__*/_jsx(BooksNavbar,{books:filteredBooks,selectedBookId:selectedBook===null||selectedBook===void 0?void 0:selectedBook.id,onSelect:setSelectedBook,onDelete:handleDeleteBook}),selectedBook&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedBook.title}),/*#__PURE__*/_jsxs(\"p\",{children:[selectedBook.author,\" \\u2014 \",selectedBook.year]}),/*#__PURE__*/_jsx(\"img\",{src:selectedBook.coverUrl,alt:selectedBook.title,style:{width:160,borderRadius:12}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteSelectedBook,style:{marginTop:10,color:'red'},children:\"Delete Book\"})]})]});}export default App;","map":{"version":3,"names":["useMemo","useState","LandingPage","AddBook","BooksNavbar","SearchBar","animalFarmCover","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","defaultBook","id","title","author","year","coverUrl","App","books","setBooks","selectedBook","setSelectedBook","query","setQuery","filteredBooks","q","trim","toLowerCase","filter","b","includes","handleDeleteSelectedBook","prev","handleDeleteBook","bookId","children","onAdd","book","value","onChange","selectedBookId","onSelect","onDelete","style","padding","src","alt","width","borderRadius","onClick","marginTop","color"],"sources":["/Users/sarvenaz/Documents/GitHub/PersonalLibrary/src/App.js"],"sourcesContent":["import { useMemo, useState } from \"react\";\nimport LandingPage from \"./LandingPage\";\nimport AddBook from \"./components/AddBook\";\nimport BooksNavbar from \"./components/Books\";\nimport SearchBar from \"./components/Search\";\n\nimport animalFarmCover from \"./assets/anim.jpg\";\n\nconst defaultBook = {\n  id: \"animal-farm\",\n  title: \"Animal Farm\",\n  author: \"George Orwell\",\n  year: 1945,\n  coverUrl: animalFarmCover\n};\n\nfunction App() {\n  const [books, setBooks] = useState([defaultBook]);\n  const [selectedBook, setSelectedBook] = useState(defaultBook);\n  const [query, setQuery] = useState(\"\");\n\n  const filteredBooks = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return books;\n\n    return books.filter((b) => {\n      const title = b.title.toLowerCase();\n      const author = b.author.toLowerCase();\n      return title.includes(q) || author.includes(q);\n    });\n  }, [books, query]);\n  \n  function handleDeleteSelectedBook() {\n    if (!selectedBook) return;\n    setBooks((prev) => prev.filter((b) => b.id !== selectedBook.id));\n    setSelectedBook(null); \n  }\n\n  function handleDeleteBook(bookId) {\n    setBooks((prev) => prev.filter((b) => b.id !== bookId));\n    if (selectedBook?.id === bookId) {\n      setSelectedBook(null);\n    }\n  }\n\n  return (\n    <>\n      <LandingPage />\n\n      <AddBook\n        onAdd={(book) => {\n          setBooks((prev) => [book, ...prev]);\n          setSelectedBook(book);\n          setQuery(\"\");\n        }}\n      />\n\n      <SearchBar value={query} onChange={setQuery} />\n\n      <BooksNavbar\n        books={filteredBooks}\n        selectedBookId={selectedBook?.id}\n        onSelect={setSelectedBook}\n        onDelete={handleDeleteBook}\n      />\n      {selectedBook && (\n        <div style={{ padding: 20 }}>\n          <h3>{selectedBook.title}</h3>\n          <p>\n            {selectedBook.author} â€” {selectedBook.year}\n          </p>\n          <img\n            src={selectedBook.coverUrl}\n            alt={selectedBook.title}\n            style={{ width: 160, borderRadius: 12 }}\n          />\n          <br />\n          <button onClick={handleDeleteSelectedBook} style={{ marginTop: 10, color: 'red' }}>\n            Delete Book\n          </button>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}